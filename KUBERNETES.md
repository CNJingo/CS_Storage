# Kubernetes

### POD
<details>
   <summary> 자세히 보기 </summary>
 
 <br>
   
쿠버네티스의 가장 작은 단위

한개 또는 여러개의 컨테이너를 담고 있을 수 있다. (긴밀하게 연결 돼있는)

파드내의 컨테이너는 IP address와 port space를 공유하고 같이 위치하고 같이 스케쥴된다.

그리고 같은 노드의 공유된 컨텍스트에서 실행된다.

우리가 Deployment를 쿠버네티스에 만들때 그것을 파드를 생성하는 일이고 그 안에 컨테이너도 같이 생성된다.

각각의 파드는 노드와 연결돼있고 삭제되거나 종료될때까지 노드에 남아서 스케쥴된다.

만약 노드가 실패한다면 동일한 파드가 다른 가능한 노드에서 실행될 것이다.

</details>

### Node
<details>
   <summary> 자세히 보기 </summary>
 
 <br>
   
파드는 항상 노드위에서 실행된다. 노드는 쿠버네티스의 워커 머신이다. 이 머신은 가상 머신일 수도 실제 머신일 수도 있다. 각 노드들은 control plane에 의해 관리된다. 노드는 여러개의 파드를 가지고 있을 수 있으며 쿠버네티스의 control plane은 자동적으로 노드들을 스케쥴링한다.

쿠버네티스 노드에는 최소 이것들이 실행되고 있다.

* Kubelet, control plane과 Node 사이에 커뮤니케이션을 담당하는 프로세스. 이것은 파드를 관리하고 컨테니어도 관리한다.

* 컨테이너 이미지를 저장소로부터 가져오는 역할을 하는 컨테이너 런타임이 실행되고 있다. 컨테이너를 unpacking하고 애플리케이션을 실행시키는 역할을 한다.





 </details>
 
 ### Namespace란?
<details>
   <summary> 자세히 보기 </summary>
 
 <br>
   
리눅스 커널의 특징중 하나이며 커널 리소스의 일부를 하나의 프로세스에게 할당할때 사용한다. 그렇게 함으로써 리소스를 프로세스에게 격리된 환경에서 제공할 수 있게 된다. 프로세스를 격리된 환경에서 실행할 때 필수적인 요소이며 마치 VM에서 돌아가는 것처럼 느끼게 한다.



 </details>
 
 
 </details>
 
 ### Persistent Volumn
<details>
   <summary> 자세히 보기 </summary>
 
 <br>
   저장 공간을 관리하는 것은 컴퓨팅 자원을 관리하는 것과 또 다른 얘기이다. PersistentVolume은 유저를 위한 API를 제공해서 저장공간의 디테일한 부분들을 추상화시켜서 이용가능하게 해준다. 이것을 가능하게 하기 위해서 우리는 PV와 PVC라는 개념을 알아야 한다.

우선 PV는 관리자나 Storage Class에 의해서 동적으로 제공되는 저장공간이다. PV는 라이프사이클을 가지고 있으며 그것은 PV를 사용하는 파드와 독립적이다. 

PVC는 유저에 의한 스토리지를 위한 요청이다. 파드는 노드의 리소스를 소비하고 PVC는 PV 리소스를 소비한다. 파드는 CPU나 메모리같은 특정한 레벨의 리소스를 요청할 수 있다. 마찬가지로 Claim은 접근권한이라던지 특정한 사이즈를 요구할 수 있다.

PVC 관리자는 유저로부터 저장공간을 추상화해서 소비할 수 있게 해주고 구체적인 구현을 유저에게 노출하지 않으면서도 스토리지의 사이즈나 접근권한을 달리하면서 유저에게 제공해줄 수 있는 능력이 필요하다.

 </details>

 
 ### 서비스
<details>
   <summary> 자세히 보기 </summary>
 
 <br>
   쿠버네티스의 서비스는 포드 그룹에 단일 진입 점을 만들기 위해 생성하는 리소스이다. 포드는 사라지거나 IP가 변하거나 자주 바뀌는 요소이기 때문에 포드로 직접 접근하는 것은 안전하지 않다. 그렇기 때문에 우리는 보통 서비스를 만들어서 고정적인 IP를 가지고 노출시킬 수 있다. 서비스는 해당 서비스를 지원하는 포드중 하나로 라우팅 되기 때문에 우리는 포드를 신경쓰지 않고 고정적인 서비스를 통해서 포드에 접근할 수 있게 된다.
      
 </details>



